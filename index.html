<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>Cheerleading Routine Builder</title>
    <meta name="description" content="Professional cheerleading routine planning tool for coaches and athletes. Plan, visualize, and organize cheer routines with drag-and-drop skills, position mapping, and count sheets." />
    <meta name="author" content="Neo Kester" />

    <meta property="og:title" content="Cheerleading Routine Builder" />
    <meta property="og:description" content="Professional cheerleading routine planning tool for coaches and athletes. Plan, visualize, and organize cheer routines with drag-and-drop skills, position mapping, and count sheets." />
    <meta property="og:image" content="/og-image.png" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />

    <style>
      /* PDF Progress Modal Styles */
      #pdf-progress-overlay {
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999; /* Highest z-index */
        opacity: 0;
        transition: opacity 0.2s ease-in-out;
      }
      #pdf-progress-overlay.pdf-progress-visible {
        opacity: 1;
      }
      #pdf-progress-overlay.pdf-progress-hidden {
        opacity: 0;
        pointer-events: none;
      }
      #pdf-progress-modal {
        background-color: #020817; /* Dark theme bg (hsl(222.2 84% 4.9%)) */
        color: #f8fafc; /* Dark theme text (hsl(210 40% 98%)) */
        border: 1px solid #1e293b; /* Dark theme border (hsl(217.2 32.6% 17.5%)) */
        border-radius: 0.5rem;
        padding: 1.5rem;
        width: 90%;
        max-width: 400px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      #pdf-progress-title {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        font-size: 1.125rem;
        font-weight: 600;
        margin: 0 0 0.5rem 0;
      }
      #pdf-progress-message {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        font-size: 0.875rem;
        color: #94a3b8; /* Muted text (hsl(215 20.2% 65.1%)) */
        margin: 0 0 1rem 0;
        min-height: 1.25rem; /* Reserve space */
      }
      #pdf-progress-bar-container {
        width: 100%;
        background-color: #1e293b; /* Dark input bg (hsl(217.2 32.6% 17.5%)) */
        border-radius: 9999px;
        overflow: hidden;
        height: 0.75rem;
      }
      #pdf-progress-bar-fill {
        width: 0%;
        height: 100%;
        background-color: #f8fafc; /* Primary text (hsl(210 40% 98%)) */
        border-radius: 9999px;
        transition: width 0.3s ease;
      }

      /* Light theme override */
      html:not(.dark) #pdf-progress-modal {
        background-color: #ffffff; /* Light theme bg (hsl(0 0% 100%)) */
        color: #020817; /* Light theme text (hsl(222.2 84% 4.9%)) */
        border: 1px solid #e2e8f0; /* Light theme border (hsl(214.3 31.8% 91.4%)) */
      }
      html:not(.dark) #pdf-progress-message {
        color: #475569; /* Muted text (hsl(215.4 16.3% 46.9%)) */
      }
      html:not(.dark) #pdf-progress-bar-container {
        background-color: #f1f5f9; /* Light secondary bg (hsl(210 40% 96.1%)) */
      }
      html:not(.dark) #pdf-progress-bar-fill {
        background-color: #020817; /* Primary (hsl(222.2 47.4% 11.2%)) */
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    
    <div id="pdf-progress-overlay" class="pdf-progress-hidden">
      <div id="pdf-progress-modal">
        <h3 id="pdf-progress-title">Generating PDF...</h3>
        <p id="pdf-progress-message">Initializing...</p>
        <div id="pdf-progress-bar-container">
          <div id="pdf-progress-bar-fill"></div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.tsx"></script>

    <script>
      // Make functions globally accessible
      window.showPdfProgress = function(totalSteps) {
        const overlay = document.getElementById('pdf-progress-overlay');
        const fill = document.getElementById('pdf-progress-bar-fill');
        const message = document.getElementById('pdf-progress-message');
        
        if (overlay) overlay.className = 'pdf-progress-visible';
        if (fill) fill.style.width = '0%';
        if (message) message.textContent = 'Initializing...';
        
        // Store total steps for percentage calculation
        window.pdfTotalSteps = totalSteps || 1;
      }

      window.updatePdfProgress = function(currentStep, statusMessage) {
        const fill = document.getElementById('pdf-progress-bar-fill');
        const message = document.getElementById('pdf-progress-message');
        
        const totalSteps = window.pdfTotalSteps || 1;
        // Ensure progress starts from 0 and ends at 100
        const percentage = Math.max(0, Math.min(100, (currentStep / totalSteps) * 100));
        
        if (fill) fill.style.width = percentage + '%';
        if (message) message.textContent = statusMessage;
      }

      window.hidePdfProgress = function() {
        const overlay = document.getElementById('pdf-progress-overlay');
        if (overlay) overlay.className = 'pdf-progress-hidden';
      }
    </script>
    </body>
</html>